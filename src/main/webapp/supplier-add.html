<!DOCTYPE html>
<html class="x-admin-sm">

<head>
<meta charset="UTF-8">
<title>欢迎页面-X-admin2.2</title>
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport"
	content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
<link rel="stylesheet" href="/css/font.css">
<link rel="stylesheet" href="/css/xadmin.css">
<script type="text/javascript" src="lib/layui/layui.js" charset="utf-8">
	
</script>
<script type="text/javascript" src="js/xadmin.js">
	
</script>
<script type="text/javascript" src="js/vue-2.4.0.js">
	
</script>
<script type="text/javascript" src="js/axios.min.js">
	
</script>
<script type="text/javascript" src="js/qs.min.js">
	
</script>
<!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
<!--[if lt IE 9]>
            <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
            <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
</head>

<body>
	<div class="layui-fluid">
		<div class="layui-row">
			<form class="layui-form">
				<div class="layui-form-item">
					<div class="layui-inline">
						<label class="layui-form-label">供应商编号</label>
						<div class="layui-input-inline">
							<input type="text" name="sno" id="sno" lay-verify="date"
								autocomplete="off" class="layui-input">
						</div>
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label"> <span class="x-red">*</span>供应商名称
					</label>
					<div class="layui-input-inline">
						<input type="text" id="sname" name="sname" required=""
							lay-verify="required" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label for="L_username" class="layui-form-label"> <span
						class="x-red"> </span>类别
					</label>
					<div class="layui-inline">
						<div class="layui-input-inline">
							<select name="stypeid" id="stypeid">
								<option value="0">请选择类别</option>
							</select>
						</div>
					</div>
				</div>
				<div class="layui-inline">
					<label class="layui-form-label">日期</label>
					<div class="layui-input-inline">
						<input type="text" name="sdate" id="sdate" lay-verify="date"
							autocomplete="off" class="layui-input">
					</div>
					<div class="layui-input-inline"></div>
				</div>
				<div class="layui-form-item" id="area-picker">
					<label class="layui-form-label"> <span class="x-red">*</span>期初应付款
					</label>
					<div class="layui-input-inline">
						<input type="text" id="oprepayment" name="oprepayment" required=""
							lay-verify="required" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label"> <span class="x-red">*</span>期初预付款
					</label>
					<div class="layui-input-inline">
						<input type="text" id="oprepayment" name="oprepayment" required=""
							lay-verify="required" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label"> <span class="x-red">*</span>增值税税率
					</label>
					<div class="layui-input-inline">
						<input type="text" id="vatrate" name="vatrate" required=""
							lay-verify="required" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label"> <span class="x-red">*</span>纳税人识别号
					</label>
					<div class="layui-input-inline">
						<input type="text" id="tinumber" name="tinumber" required=""
							lay-verify="required" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label"> <span class="x-red">*</span>联系人
					</label>
					<div class="layui-input-inline">
						<input type="text" id="scontacts" name="scontacts" required=""
							lay-verify="required" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label"> <span class="x-red">*</span>手机
					</label>
					<div class="layui-input-inline">
						<input type="text" id="pnumber" name="pnumber" required=""
							lay-verify="required" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label"> <span class="x-red">*</span>座机
					</label>
					<div class="layui-input-inline">
						<input type="text" id="user" name="lnumber" required=""
							lay-verify="required" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label"> <span class="x-red">*</span>联系方式
					</label>
					<div class="layui-input-inline">
						<input type="text" id="cinformation" name="cinformation"
							required="" lay-verify="required" autocomplete="off"
							class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label"> <span class="x-red">*</span>联系地址
					</label>
					<div class="layui-input-inline">
						<input type="text" id="caddress" name="caddress" required=""
							lay-verify="required" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label"> <span class="x-red">*</span>开户银行
					</label>
					<div class="layui-input-inline">
						<input type="text" id="bank" name="bank" required=""
							lay-verify="required" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label"> <span class="x-red">*</span>收款账号
					</label>
					<div class="layui-input-inline">
						<input type="text" id="bankaccount" name="bankaccount" required=""
							lay-verify="required" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label for="L_repass" class="layui-form-label"></label>
					<button class="layui-btn" lay-filter="add" lay-submit="">增加</button>
				</div>
			</form>
		</div>
	</div>
	<script>
		layui.use([ 'form', 'upload', 'layer', 'laydate' ], function() {
			$ = layui.jquery;
			var form = layui.form, laydate = layui.laydate;
			//日期
			laydate.render({
				elem : '#sdate'
			});
			//检查项目添加到下拉框中
			$.ajax({
				url : '/suppliertype/selectAll',
				dataType : 'json',
				type : 'post',
				success : function(data) {
					$.each(data, function(index, item) {
						$('#stypeid').append(
								new Option(item.stypename, item.stypeid));// 下拉菜单里添加元素
					});
					layui.form.render("select");
				}
			});
			//监听提交
			form.on('submit(add)', function(data) {
				var supplier = Qs.stringify({
					"sno" : data.field.sno,
					"stypeid" : data.field.stypeid,
					"sname" : data.field.sname,
					"scontacts" : data.field.scontacts,
					"pnumber" : data.field.pnumber,
					"lnumber" : data.field.lnumber,
					"cinformation" : data.field.cinformation,
					"caddress" : data.field.caddress,
					"sdate" : data.field.sdate,
					"opayables" : data.field.opayables,
					"oprepayment" : data.field.oprepayment,
					"vatrate" : data.field.vatrate,
					"tinumber" : data.field.tinumber,
					"bank" : data.field.bank,
					"bankaccount" : data.field.bankaccount
				});
				console.log(supplier);
				$
						.ajax({
							url : '/warehouse/add',
							type : 'post',
							data : warehouse,
							traditional : true,
							success : function(data) {
								if (data == "1") {
									alert("添加成功！")
									var index = parent.layer
											.getFrameIndex(window.name); //先得到当前iframe层的索引
									parent.layer.close(index);
								} else {
									alert("添加失败！")
								}
							}
						});
				return false;
			});
		});
		layui.use([ 'laydate', 'form' ], function() {
			var laydate = layui.laydate;
			var form = layui.form;
			// 监听全选
			form.on('checkbox(checkall)', function(data) {

				if (data.elem.checked) {
					$('#tbody input').prop('checked', true);
				} else {
					$('#tbody input').prop('checked', false);
				}
				form.render('checkbox');
			});

			//执行一个laydate实例
			laydate.render({
				elem : '#start' //指定元素
			});

			//执行一个laydate实例
			laydate.render({
				elem : '#end' //指定元素
			});

		});

		/*用户-停用*/
		function member_stop(obj, id) {
			layer.confirm('确认要停用吗？', function(index) {

				if ($(obj).attr('title') == '启用') {

					//发异步把用户状态进行更改
					$(obj).attr('title', '停用');
					$(obj).find('i').html('&#xe62f;');

					$(obj).parents("tr").find(".td-status").find('span')
							.addClass('layui-btn-disabled').html('已停用');
					layer.msg('已停用!', {
						icon : 5,
						time : 1000
					});

				} else {

					$(obj).attr('title', '启用');
					$(obj).find('i').html('&#xe601;');

					$(obj).parents("tr").find(".td-status").find('span')
							.removeClass('layui-btn-disabled').html('已启用');
					layer.msg('已启用!', {
						icon : 5,
						time : 1000
					});
				}

			});
		}

		/*用户-删除*/
		function member_del(obj, id) {
			layer.confirm('确认要删除吗？', function(index) {
				//发异步删除数据
				$(obj).parents("tr").remove();
				layer.msg('已删除!', {
					icon : 1,
					time : 1000
				});
			});
		}

		function delAll(argument) {

			var data = tableCheck.getData();

			layer.confirm('确认要删除吗？' + data, function(index) {
				//捉到所有被选中的，发异步进行删除
				layer.msg('删除成功', {
					icon : 1
				});
				$(".layui-form-checked").not('.header').parents('tr').remove();
			});
		}
	</script>
	<script>
		layui.use('table', function() {
			var table = layui.table;

			//监听单元格编辑
			table.on('edit(test3)',
					function(obj) {
						var value = obj.value //得到修改后的值
						, data = obj.data //得到所在行所有键值
						, field = obj.field; //得到字段
						layer.msg('[ID: ' + data.id + '] ' + field + ' 字段更改为：'
								+ value);
					});
		});
	</script>
	<script>
		var _hmt = _hmt || [];
		(function() {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?b393d153aeb26b46e9431fabaf0f6190";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
		})();
	</script>
</body>

</html>
